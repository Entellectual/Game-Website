<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Proxyverse</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --bg:#050505;
  --card:#0f0f0f;
  --green:#00ff88;
  --text:#e6ffe6;
}

body {
  margin:0;
  background:radial-gradient(circle at top,#08110c,var(--bg));
  font-family:Segoe UI, Arial, sans-serif;
  color:var(--text);
  overflow-x:hidden;
}

/* Tabs */
.tabs {
  display:flex;
  width:100%;
}

.tab {
  flex:1;
  text-align:center;
  padding:15px;
  cursor:pointer;
  background:#020302;
  border-bottom:3px solid transparent;
  font-weight:600;
  letter-spacing:1px;
  color:#00ff8877;
  transition:
    background .25s ease,
    color .25s ease,
    border-bottom .25s ease;
}

.tab.active {
  color:var(--green);
  border-bottom:3px solid var(--green);
  background:#040605;
}

/* Content with smooth animation */
.content {
  padding:22px;
  animation:fadeSlide .35s ease;
}

.hidden {
  display:none;
}

@keyframes fadeSlide {
  from {
    opacity:0;
    transform:translateY(10px);
  }
  to {
    opacity:1;
    transform:translateY(0);
  }
}

/* Title */
h1 {
  text-align:center;
  color:var(--green);
  text-shadow:0 0 15px rgba(0,255,136,.45);
  margin-bottom:20px;
}

/* Search */
#search {
  width:100%;
  max-width:420px;
  margin:0 auto 25px auto;
  display:block;
  padding:12px;
  border-radius:8px;
  background:#020302;
  border:1px solid #00ff8844;
  color:var(--green);
  font-size:16px;
}

/* Grid (centered rows) */
.grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(220px, 220px));
  gap:18px;
  justify-content:center;
}

/* Cards */
.card {
  background:linear-gradient(145deg,#0a0a0a,var(--card));
  border-radius:14px;
  padding:12px;
  text-align:center;
  cursor:pointer;
  transition:.25s ease;
}

.card:hover {
  transform:translateY(-6px);
  box-shadow:0 0 25px rgba(0,255,136,.25);
}

.card img {
  width:100%;
  aspect-ratio:1/1;
  object-fit:cover;
  border-radius:10px;
  margin-bottom:10px;
  border:1px solid #00ff8822;
}

.card-name {
  font-size:15px;
  font-weight:600;
}
</style>
</head>

<body>

<!-- Tabs -->
<div class="tabs">
  <div class="tab active" onclick="showTab('games')">GAMES</div>
  <div class="tab" onclick="showTab('proxies')">PROXIES</div>
</div>

<!-- Games -->
<div class="content" id="gamesTab">
  <h1>PROXYVERSE</h1>
  <input id="search" placeholder="Search games..." oninput="filterGames()">
  <div class="grid" id="games"></div>
</div>

<!-- Proxies -->
<div class="content hidden" id="proxiesTab">
  <h1>PROXIES</h1>
  <div class="grid">

    <div class="card" onclick="openProxy('https://sigma-proxy-6.vercel.app/')">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRcyUxnD_6hit--PCNSnpZ2HLdKkGbDCzfEag&s">
      <div class="card-name">Dodge Unblocker</div>
    </div>

    <div class="card" onclick="openProxy('https://sigma-proxy-13.vercel.app/')">
      <img src="https://cdn.mos.cms.futurecdn.net/7jxwc8dNejsvowwWTGfG2P-640-80.jpg">
      <div class="card-name">Equinox</div>
    </div>

    <div class="card" onclick="openProxy('https://sigmaproxy-seven.vercel.app/')">
      <img src="https://avatars.githubusercontent.com/u/103917385?s=280&v=4">
      <div class="card-name">Interstellar</div>
    </div>

    <div class="card" onclick="openProxy('https://sigma-proxy-15.vercel.app/')">
      <img src="https://avatars.githubusercontent.com/u/117482007?s=280&v=4">
      <div class="card-name">Shuttle</div>
    </div>

    <div class="card" onclick="openProxy('https://sigma-proxy-3.vercel.app/')">
      <img src="https://s3-eu-west-1.amazonaws.com/tpd/logos/671f9d4bfa8fb942dcd68ff0/0x0.png">
      <div class="card-name">Waves</div>
    </div>

  </div>
</div>

<script>
const DEFAULT_THUMB =
  'https://via.placeholder.com/300/000000/00ff88?text=No+Image';

let allGames=[];

/* Tabs */
function showTab(tab){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.content').forEach(c=>c.classList.add('hidden'));

  if(tab==='games'){
    document.querySelectorAll('.tab')[0].classList.add('active');
    gamesTab.classList.remove('hidden');
  } else {
    document.querySelectorAll('.tab')[1].classList.add('active');
    proxiesTab.classList.remove('hidden');
  }
}

/* Load Games */
async function loadGames(){
  const res=await fetch('games.json');
  allGames=await res.json();

  allGames.sort((a,b)=>
    a.name.localeCompare(b.name,undefined,{
      numeric:true,
      sensitivity:'base'
    })
  );

  renderGames(allGames);
}

function renderGames(list){
  games.innerHTML='';
  list.forEach(async game=>{
    const card=document.createElement('div');
    card.className='card';

    let thumb=DEFAULT_THUMB;
    const folder=encodeURIComponent(game.name);

    try{
      const r=await fetch(`games/${folder}/thumbnail.txt`);
      if(r.ok){
        const t=(await r.text()).trim();
        if(t) thumb=t;
      }
    }catch{}

    const img=document.createElement('img');
    img.src=thumb;
    img.onerror=()=>img.src=DEFAULT_THUMB;

    const name=document.createElement('div');
    name.className='card-name';
    name.textContent=game.name;

    card.onclick=()=>openGame(game.name,game.path);

    card.append(img,name);
    games.appendChild(card);
  });
}

function filterGames(){
  const q=search.value.toLowerCase();
  renderGames(allGames.filter(g=>g.name.toLowerCase().includes(q)));
}

function openGame(name,path){
  const w=window.open('about:blank');
  const url=location.origin+'/'+path;
  w.document.write(`
    <title>${name}</title>
    <iframe src="${url}" style="border:none;width:100%;height:100%"></iframe>
  `);
}

function openProxy(url){
  window.open(url,'_blank');
}

loadGames();
</script>

</body>
</html>
